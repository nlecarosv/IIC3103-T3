(this.webpackJsonpt3=this.webpackJsonpt3||[]).push([[0],{131:function(e,t,a){},165:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(17),c=a.n(r),o=(a(131),a(19)),s=a(11),l=a(125),d=a(10),h=a(276),u=(a(132),a(133),a(134),a(75)),b=a(275),j=a(279),g=a(273),m=a(277),p=a(56),O=a(278),f=a(268),x=a(280),w=a(269),v=a(270),k=a(271),y=a(13),C=(a(165),{0:{actual:"#641E16",theorical:"#C0392B"},1:{actual:"#512E5F",theorical:"#9B59B6"},2:{actual:"#154360",theorical:"#2980B9"},3:{actual:"#0E6251",theorical:"#48C9B0"},4:{actual:"#145A32",theorical:"#27AE60"},5:{actual:"#7D6608",theorical:"#F1C40F"},6:{actual:"#784212",theorical:"#E67E22"},7:{actual:"#7B7D7D",theorical:"#ECF0F1 "},8:{actual:"#4D5656",theorical:"#95A5A6"},9:{actual:"#1B2631",theorical:"##34495E"},10:{actual:"#78281F",theorical:"#E74C3C"},11:{actual:"#4A235A",theorical:"#8E44AD"},12:{actual:"#1B4F72",theorical:"#3498DB"},13:{actual:"#0B5345",theorical:"#16A085"},14:{actual:"#186A3B",theorical:"#2ECC71"},15:{actual:"#7E5109",theorical:"#F39C12"},16:{actual:"#6E2C00",theorical:"#D35400"},17:{actual:"#626567",theorical:"#BDC3C7"},18:{actual:"#424949",theorical:"#7F8C8D"},19:{actual:"#17202A",theorical:"#2C3E50"}}),F=a(4),S=new y.Icon({iconUrl:"/airplane.png",iconSize:[22,22],iconAnchor:[1,1],popupAnchor:[-3,-76]}),B=[0,0],A=function(e){var t=e.height,a=(e.isMobile,e.flights),n=e.positions,r=e.horizontallStructure,c=e.isLoadingFlights,o=Object(i.useState)({code:"",passengers:[],plane:""}),l=Object(s.a)(o,2),d=l[0],u=l[1],b=Object(i.useState)(!1),j=Object(s.a)(b,2),y=j[0],A=j[1],E=function(e){var t={};return e.map((function(e){var a=e.code,i=e.position;t[a]||(t[a]=[]),t[a].push(i)})),t}(n),D={generalContainer:{flex:r?2:1,margin:5,height:r?t-30:(t-30)/2},closeButton:{alignSelf:"flex-end"},map:{height:r?"100%":(t-200)/2,borderRadius:10},loader:{margin:100,alignSelf:"center",justifyContent:"center"}};return Object(F.jsxs)(h.a,{style:D.generalContainer,children:[Object(F.jsxs)(g.a,{show:y,overflow:!0,backdrop:!0,onHide:function(){return A(!1)},children:[Object(F.jsx)(m.a,{onClick:function(){return A(!1)},circle:!0,icon:Object(F.jsx)(p.a,{icon:"close"}),size:"sm",style:D.closeButton}),Object(F.jsxs)(h.a,{children:[Object(F.jsx)("h2",{children:"Pasajeros"}),d.passengers.map((function(e,t){return Object(F.jsxs)("p",{children:["- ",e.name,": ",e.age," a\xf1os."]},t.toString())}))]})]}),Object(F.jsx)("h2",{children:"Mapa de vuelos"}),Object(F.jsx)(h.a,{children:Object(F.jsx)("p",{children:" (*) Presiona sobre un vuelo para ver su informaci\xf3n"})}),c?Object(F.jsx)(h.a,{children:Object(F.jsx)(O.a,{content:"Cargando mapa y vuelos",style:D.loader})}):Object(F.jsxs)(f.a,{center:B,zoom:0,minZoom:1,scrollWheelZoom:!0,style:D.map,children:[Object(F.jsx)(x.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object.keys(E).map((function(e,t){var i=a[e],n=[i.origin,i.destination],r={color:C[(t%20).toString()].theorical,weight:"1",dashArray:"2, 2",dashOffset:"2"};return Object(F.jsx)(w.a,{pathOptions:r,positions:n},e)})),Object.keys(E).map((function(e,t){var a=E[e],i={color:C[(t%20).toString()].actual,width:"3"};return Object(F.jsx)(w.a,{pathOptions:i,positions:a},e)})),Object.keys(E).map((function(e,t){var i=E[e],n=i[i.length-1],r=a[e];return Object(F.jsx)(v.a,{position:n,icon:S,children:Object(F.jsxs)(k.a,{children:[Object(F.jsxs)("b",{children:["Vuelo ",r.code]}),Object(F.jsx)("br",{}),"Avi\xf3n: ",r.plane,Object(F.jsx)("br",{}),"Asientos: ",r.seats,Object(F.jsx)("br",{}),Object(F.jsx)("a",{onClick:function(){return u(e=r),A(!0),void console.log(e,y);var e},children:"Ver m\xe1s"})]})},t.toString())}))]})]})},E=a(272),D=a(274),M={white:"#FFFFFF",black:"#000000",red:"#ff0000",main:"#5460B6",textGray:"##8E8E93",accent:"#F1475D",positive:"#12976D",waiting:"#EFD444",primary:"#3B5E7A",secondary:"#99A1D7",danger:"#F1475D",warning:"#F9DC5C",link:"#0496FF",gray:"#D8DBE2",success:"#4CB944",clearGray:"#F8F8F8",transparent:"transparent",lightgray:"#8e8e93",gradientLight:["#FCF7F8","#FCF7F8"],gradientDark:["#343633","#343633"],gradientMain:["#5460B6","#626CBC","#5460B6"],selectorText:"#5c5c5c",bluePrimary:"#1675e0",lightBlue:"#5fc9f8"},z=a(124),T=a.n(z),L=function(e){var t=e.height,a=e.width,i=e.messages,n=e.setNewMessage,r=e.newMessage,c=e.handleMessage,o=e.nickName,s=e.setNickName,l=e.isLoadingChat,d=e.horizontallStructure,u={generalContainer:{margin:5,height:d?t-30:(t-30)/2},borderContainer:{flex:1,backgroundColor:M.black,marginTop:d?-15:0,marginBottom:d?-15:0,paddingTop:d?15:10,paddingBottom:d?15:10,marginRight:d?-15:0,paddingRight:d?15:10,paddingLeft:d?15:10,borderRadius:d?0:10,maxWidth:d?a/2:a-100-30},chatTitle:{color:M.white},messages:{padding:20,overflowY:"scroll",maxHeight:d?t-72-50-30:t/2-72-50-30,height:d?t-72-50-30:t/2-72-50-30},message:{backgroundColor:M.lightBlue,borderRadius:10,wordWrap:"break-word",marginBottom:5,padding:5,marginLeft:100,justifySelf:"start",maxWidth:d?a/3+20:a-100-30},date:{flexDirection:"row-reverse"},textMessage:{wordWrap:"break-word"},otherMessage:{backgroundColor:"lightgray",borderRadius:10,wordWrap:"break-word",marginBottom:5,padding:5,marginRight:100,maxWidth:d?a/3+20:a-100-30},otherMessageTitle:{flexDirection:"row",justifyContent:"space-between"},otherName:{alignSelf:"flex-end"},input:{backgroundColor:M.gray}};return Object(F.jsx)(h.a,{style:u.generalContainer,children:l?Object(F.jsx)(h.a,{children:Object(F.jsx)("h1",{children:"CARGANDO"})}):Object(F.jsxs)(h.a,{style:u.borderContainer,children:[Object(F.jsx)(h.a,{children:Object(F.jsx)("h2",{style:u.chatTitle,children:"Chat"})}),Object(F.jsxs)(E.a,{inside:!0,children:[Object(F.jsx)(D.a,{placeholder:"Usuario",value:o,onChange:s}),Object(F.jsx)(E.a.Button,{children:Object(F.jsx)(p.a,{icon:"user"})})]}),Object(F.jsx)(h.a,{style:u.messages,children:i.map((function(e,t){var a=T()(e.date).format("DD/MM/YYYY hh:mm"),i=e.name,n=e.message;return e.name===o?Object(F.jsxs)(h.a,{style:u.message,children:[Object(F.jsx)(h.a,{style:u.date,children:Object(F.jsx)("p",{children:a})}),Object(F.jsx)("p",{style:u.textMessage,children:n})]},t.toString()):Object(F.jsxs)(h.a,{style:u.otherMessage,children:[Object(F.jsxs)(h.a,{style:u.otherMessageTitle,children:[Object(F.jsx)("p",{style:u.otherName,children:Object(F.jsx)("b",{children:i})}),Object(F.jsx)("p",{children:a})]}),Object(F.jsx)("p",{style:u.textMessage,children:n})]},t.toString())}))}),Object(F.jsxs)(E.a,{inside:!0,style:u,children:[Object(F.jsx)(D.a,{placeholder:"Mensaje",value:r,onChange:n,onPressEnter:c}),Object(F.jsx)(E.a.Button,{style:u.input,onClick:c,children:Object(F.jsx)(p.a,{icon:"send"})})]})]})})},N="wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl",H=function(e){var t,a=e.height,n=e.width,r=e.isMobile,c=Object(i.useState)(!0),o=Object(s.a)(c,2),l=o[0],d=o[1],g=Object(i.useState)(!0),m=Object(s.a)(g,2),p=(m[0],m[1]),O=Object(i.useState)({}),f=Object(s.a)(O,2),x=f[0],w=f[1],v=Object(i.useState)([]),k=Object(s.a)(v,2),y=k[0],C=k[1],S=Object(i.useState)([]),B=Object(s.a)(S,2),E=B[0],D=B[1],M=Object(i.useState)(""),z=Object(s.a)(M,2),T=z[0],H=z[1],I=Object(i.useState)("An\xf3nimo"),R=Object(s.a)(I,2),P=R[0],W=R[1],G=n>999&&!r,q={main:{padding:10,width:n,overflowX:"hidden"},generalContainer:{flexDirection:n>999&&!r?"row":"column"}},Y=function(){(t=Object(u.io)(N,{path:"/flights"})).on("FLIGHTS",(function(e){!function(e){var t={};e.map((function(e){t[e.code]=e})),w(t)}(e)})),t.on("CHAT",(function(e){E.push(e),D(E)})),t.on("POSITION",(function(e){!function(e){var a=e.code;x[a]||t.emit("FLIGHTS"),y.push(e),C(y)}(e)})),t.emit("FLIGHTS"),p(!1)},U=function(){t.disconnect()};return Object(i.useEffect)((function(){return Y(),b.a.open({title:"Informaci\xf3n",description:'Puedes cambiar el nombre de usuario en el primer input (donde aparece "An\xf3nimo")',duration:7e3}),function(){return U()}}),[]),Object(i.useEffect)((function(){x&&d(!1)}),[x]),Object(F.jsx)(h.a,{style:q.main,children:l?Object(F.jsx)(h.a,{children:Object(F.jsx)("h1",{children:"CARGANDO"})}):Object(F.jsxs)(h.a,{style:q.generalContainer,children:[Object(F.jsx)(A,{height:a,width:n,positions:y,flights:x,horizontallStructure:G,isLoadingFlights:l}),Object(F.jsx)(L,{height:a,width:n,handleMessage:function(){if(P.length>0)if(T.length>0){if(t)t.emit("CHAT",{name:P,message:T,date:"09/05/2021"});else{var e=Object(u.io)(N,{path:"/flights"});e.emit("CHAT",{name:P,message:T,date:"09/05/2021"}),setTimeout((function(){e.disconnect()}),1e4)}H("")}else j.a.error("Es necesario escribir algo");else j.a.error("Es necesario escribir un nombre de usuario")},messages:E,newMessage:T,setNewMessage:H,nickName:P,setNickName:W,horizontallStructure:G})]})})},I=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)),R=function(){var e=function(){var e=Object(i.useState)([0,0]),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(i.useLayoutEffect)((function(){function e(){n([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}(),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(F.jsx)(h.a,{style:{width:a},children:Object(F.jsx)(l.a,{id:"container",children:Object(F.jsx)(d.c,{children:Object(F.jsx)(d.a,{path:"/",render:function(e){return Object(F.jsx)(H,Object(o.a)({commonApiUrl:"https://tarea-1-breaking-bad.herokuapp.com/api",width:a,height:n,isMobile:I},e))}})})})})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,281)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),i(e),n(e),r(e),c(e)}))};c.a.render(Object(F.jsx)(n.a.StrictMode,{children:Object(F.jsx)(R,{})}),document.getElementById("root")),P()}},[[263,1,2]]]);
//# sourceMappingURL=main.33eac89f.chunk.js.map