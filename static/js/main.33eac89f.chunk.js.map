{"version":3,"sources":["styles/plane-colors.js","components/map.jsx","styles/colors.js","components/chat.jsx","components/home.jsx","App.js","reportWebVitals.js","index.js"],"names":["planeColors","actual","theorical","myIcon","Icon","iconUrl","iconSize","iconAnchor","popupAnchor","center","Map","height","flights","isMobile","positions","horizontallStructure","isLoadingFlights","useState","code","passengers","plane","flightInfo","setFligthInfo","showPlaneInfo","setShowPlaneInfo","sortedPositions","positionsToSort","temporalSortedPositions","map","history","position","push","reorderPositions","styles","generalContainer","flex","margin","closeButton","alignSelf","borderRadius","loader","justifyContent","Container","style","Modal","show","overflow","backdrop","onHide","IconButton","onClick","circle","icon","size","passenger","index","name","age","toString","Loader","content","MapContainer","zoom","minZoom","scrollWheelZoom","TileLayer","attribution","url","Object","keys","actualFlight","line","origin","destination","path","color","weight","dashArray","dashOffset","Polyline","pathOptions","flightPositions","width","actualPosition","length","Marker","Popup","seats","console","log","colors","white","black","red","main","textGray","accent","positive","waiting","primary","secondary","danger","warning","link","gray","success","clearGray","transparent","lightgray","gradientLight","gradientDark","gradientMain","selectorText","bluePrimary","lightBlue","Chat","messages","setNewMessage","newMessage","handleMessage","nickName","setNickName","isLoadingChat","borderContainer","backgroundColor","marginTop","marginBottom","paddingTop","paddingBottom","marginRight","paddingRight","paddingLeft","maxWidth","chatTitle","padding","overflowY","maxHeight","message","wordWrap","marginLeft","justifySelf","date","flexDirection","textMessage","otherMessage","otherMessageTitle","otherName","input","InputGroup","inside","Input","placeholder","value","onChange","Button","moment","format","userName","onPressEnter","ENDPOINT","Home","socket","setIsLoadingFlights","setIsLoadingChat","setFlights","setPositions","setMessages","overflowX","setUpSocket","io","on","data","temporalFlights","flight","formatFlights","emit","handlePositions","disconnectSocket","disconnect","useEffect","Notification","open","title","description","duration","newSocket","setTimeout","Alert","error","test","navigator","userAgent","substr","App","screenSize","setScreenSize","useLayoutEffect","updateScreenSize","window","innerWidth","innerHeight","addEventListener","removeEventListener","useMediaQuery","id","render","props","commonApiUrl","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.33eac89f.chunk.js","sourcesContent":["const planeColors = {\n  '0': {actual: '#641E16', theorical: '#C0392B'},\n  '1': {actual: '#512E5F', theorical: '#9B59B6'},\n  '2': {actual: '#154360', theorical: '#2980B9'},\n  '3': {actual: '#0E6251', theorical: '#48C9B0'},\n  '4': {actual: '#145A32', theorical: '#27AE60'},\n  '5': {actual: '#7D6608', theorical: '#F1C40F'},\n  '6': {actual: '#784212', theorical: '#E67E22'},\n  '7': {actual: '#7B7D7D', theorical: '#ECF0F1 '},\n  '8': {actual: '#4D5656', theorical: '#95A5A6'},\n  '9': {actual: '#1B2631', theorical: '##34495E'},\n  '10': {actual: '#78281F', theorical: '#E74C3C'},\n  '11': {actual: '#4A235A', theorical: '#8E44AD'},\n  '12': {actual: '#1B4F72', theorical: '#3498DB'},\n  '13': {actual: '#0B5345', theorical: '#16A085'},\n  '14': {actual: '#186A3B', theorical: '#2ECC71'},\n  '15': {actual: '#7E5109', theorical: '#F39C12'},\n  '16': {actual: '#6E2C00', theorical: '#D35400'},\n  '17': {actual: '#626567', theorical: '#BDC3C7'},\n  '18': {actual: '#424949', theorical: '#7F8C8D'},\n  '19': {actual: '#17202A', theorical: '#2C3E50'},\n\n}\n\nexport default planeColors;\n","import React, { useState } from 'react';\nimport { Container, IconButton, Modal, Icon as IconRsuite, Loader } from 'rsuite';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline, } from 'react-leaflet'\nimport { Icon } from 'leaflet'\nimport '../styles/map.css';\nimport planeColors from '../styles/plane-colors';\n\nconst myIcon = new Icon({\n  iconUrl: '/airplane.png',\n  iconSize: [22, 22],\n  iconAnchor: [1, 1],\n  popupAnchor: [-3, -76],\n  // shadowUrl: 'my-icon-shadow.png',\n  // shadowSize: [68, 95],\n  // shadowAnchor: [22, 94]\n});\n\nconst reorderPositions = (positionsToSort) => {\n  const temporalSortedPositions = {};\n  positionsToSort.map((history) => {\n    const { code, position } = history;\n    if (!temporalSortedPositions[code]) {\n      temporalSortedPositions[code] = [];\n    }\n    temporalSortedPositions[code].push(position)\n  });\n  return temporalSortedPositions;\n}\n\nconst center = [0, 0]\n\n\nconst Map = ({\n  height,\n  isMobile,\n  flights,\n  positions,\n  horizontallStructure,\n  isLoadingFlights,\n}) => {\n\n  const [flightInfo, setFligthInfo] = useState({code: '', passengers: [], plane: ''});\n  const [showPlaneInfo, setShowPlaneInfo] = useState(false);\n  const sortedPositions = reorderPositions(positions);\n  \n  const setPlaneInfo = (plane) => {\n    setFligthInfo(plane);\n    setShowPlaneInfo(true)\n    console.log(plane, showPlaneInfo)\n  }\n  \n  const styles = {\n    generalContainer: {\n      flex: horizontallStructure ? 2 : 1,\n      margin: 5,\n      height: horizontallStructure ? height - 30 : (height - 30)/2,\n    },\n    closeButton: { alignSelf: 'flex-end',},\n    map: {\n      height: horizontallStructure ? '100%' : (height - 200)/2,\n      borderRadius: 10,\n    },\n    loader: {\n      margin: 100, alignSelf: 'center', justifyContent: 'center',\n    },\n  };\n  return (\n    <Container style={styles.generalContainer}>\n      <Modal show={showPlaneInfo} overflow backdrop onHide={() => setShowPlaneInfo(false)}>\n        <IconButton\n          onClick={() => setShowPlaneInfo(false)}\n          circle\n          icon={(\n            <IconRsuite icon=\"close\"/>\n          )}\n          size=\"sm\"\n          style={styles.closeButton}/>\n        <Container>\n          <h2>Pasajeros</h2>\n          {flightInfo.passengers.map((passenger, index) => (\n            <p key={index.toString()}>- {passenger.name}: {passenger.age} años.</p>\n          ))}\n        </Container>\n      </Modal>\n      <h2>Mapa de vuelos</h2>\n      <Container>\n        <p> (*) Presiona sobre un vuelo para ver su información</p>\n      </Container>\n      {isLoadingFlights ? (\n        <Container>\n          <Loader\n            content=\"Cargando mapa y vuelos\"\n            style={styles.loader}  \n          />\n        </Container>\n      ) : (\n        <MapContainer center={center} zoom={0} minZoom={1} scrollWheelZoom={true} style={styles.map}>\n          <TileLayer\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          {Object.keys(sortedPositions).map((code, index) => {\n            const actualFlight = flights[code];\n            const line = [\n              actualFlight.origin,\n              actualFlight.destination,\n            ]\n            const path = {\n              color: planeColors[(index % 20).toString()].theorical,\n              weight: '1',\n              dashArray: '2, 2',\n              dashOffset: '2'\n            };\n            return (\n              <Polyline key={code} pathOptions={path} positions={line} />\n              )\n          })}\n          {Object.keys(sortedPositions).map((code, index) => {\n            const flightPositions = sortedPositions[code];\n            const path = { color: planeColors[(index % 20).toString()].actual, width: '3' };\n            return (\n              <Polyline key={code} pathOptions={path} positions={flightPositions} />\n              )\n            })}\n          {Object.keys(sortedPositions).map((code, index) => {\n            const flightPositions = sortedPositions[code];\n            const actualPosition = flightPositions[flightPositions.length - 1];\n            const actualFlight = flights[code];\n            return (\n              <Marker position={actualPosition} icon={myIcon} key={index.toString()}>\n                <Popup>\n                  <b>Vuelo {actualFlight.code}</b>\n                  <br />\n                  Avión: {actualFlight.plane}\n                  <br />\n                  Asientos: {actualFlight.seats}\n                  <br />\n                  <a onClick={() => setPlaneInfo(actualFlight)}>Ver más</a>\n                </Popup>\n              </Marker>\n              )\n            })}\n        </MapContainer>\n      )}\n    </Container>\n  )\n};\n\n\nexport default Map;\n","const colors = {\n  white: '#FFFFFF',\n  black: '#000000',\n  red: '#ff0000',\n  main: '#5460B6',\n  textGray: '##8E8E93',\n  accent: '#F1475D',\n  positive: '#12976D',\n  waiting: '#EFD444',\n  primary: '#3B5E7A',\n  secondary: '#99A1D7',\n  danger: '#F1475D',\n  warning: '#F9DC5C',\n  link: '#0496FF',\n  gray: '#D8DBE2',\n  success: '#4CB944',\n  clearGray: '#F8F8F8',\n  transparent: 'transparent',\n  lightgray: '#8e8e93',\n  gradientLight: ['#FCF7F8', '#FCF7F8'],\n  gradientDark: ['#343633', '#343633'],\n  gradientMain: ['#5460B6', '#626CBC', '#5460B6'],\n  selectorText: '#5c5c5c',\n  bluePrimary: '#1675e0',\n  lightBlue: '#5fc9f8',\n}\n\nexport default colors;\n","// La función useMediaQuery fue obtenida de https://stackoverflow.com/questions/19014250/rerender-view-on-browser-resize-with-react\n// isMobile: https://stackoverflow.com/questions/21660369/detectmobilebrowsers-how-to-add-ipad-co-detect-mobile-browsers-js\n\nimport React from 'react';\nimport { Container, Input, InputGroup, Icon } from 'rsuite';\nimport colors from '../styles/colors';\nimport moment from 'moment';\n\nconst Chat = ({\n  height,\n  width,\n  messages,\n  setNewMessage,\n  newMessage,\n  handleMessage,\n  nickName,\n  setNickName,\n  isLoadingChat,\n  horizontallStructure,\n}) => {\n  const styles = {\n    generalContainer: {\n      margin: 5,\n      height: horizontallStructure ? height - 30 : (height - 30)/2,\n    },\n    borderContainer: {\n      flex: 1, \n      backgroundColor: colors.black,\n      marginTop: horizontallStructure ? -15 : 0,\n      marginBottom: horizontallStructure ? -15 : 0,\n      paddingTop: horizontallStructure ? 15 : 10,\n      paddingBottom: horizontallStructure ? 15 : 10,\n      marginRight: horizontallStructure ? -15 : 0,\n      paddingRight: horizontallStructure ? 15 : 10,\n      paddingLeft: horizontallStructure ? 15 : 10,\n      borderRadius: horizontallStructure ? 0 : 10,\n      maxWidth: horizontallStructure ? width/ 2: width - 100 - 30,\n    },\n    chatTitle: { color: colors.white },\n    messages: {\n      padding: 20,\n      overflowY: 'scroll',\n      maxHeight: horizontallStructure ? height - 2*36 - 50 - 30 : height/2 - 2*36 - 50 - 30,\n      height: horizontallStructure ? height - 2*36 - 50 - 30 : height/2 - 2*36 - 50 - 30,\n    },\n    message: {\n      backgroundColor: colors.lightBlue,\n      borderRadius: 10,\n      wordWrap: 'break-word',\n      marginBottom: 5,\n      padding: 5,\n      marginLeft: 100,\n      justifySelf: 'start',\n      maxWidth: horizontallStructure ? width/ 3 + 20 : width - 100 - 30,\n    },\n    date: {flexDirection: 'row-reverse'},\n    textMessage: {wordWrap: 'break-word'},\n    otherMessage: {\n      backgroundColor: 'lightgray',\n      borderRadius: 10,\n      wordWrap: 'break-word',\n      marginBottom: 5,\n      padding: 5,\n      marginRight: 100,\n      maxWidth: horizontallStructure ? width/ 3 + 20 : width - 100 - 30,\n    },\n    otherMessageTitle: {flexDirection: 'row', justifyContent: 'space-between'},\n    otherName: {alignSelf: 'flex-end'},\n    input: {backgroundColor: colors.gray},\n  };\n  return (\n    <Container style={styles.generalContainer}>\n      {isLoadingChat  ? (\n        <Container>\n          <h1>CARGANDO</h1>\n        </Container>\n      ): (\n        <Container style={styles.borderContainer}>\n          <Container>\n            <h2 style={styles.chatTitle}>Chat</h2>\n          </Container>\n          <InputGroup inside>\n            <Input\n              placeholder={'Usuario'}\n              value={nickName}\n              onChange={setNickName}\n            />\n            <InputGroup.Button>\n              <Icon icon=\"user\" />\n            </InputGroup.Button>\n          </InputGroup>\n          <Container style={styles.messages}>\n            {messages.map((message, index) => {\n              const date = moment(message.date).format('DD/MM/YYYY hh:mm')\n              const { name: userName, message: textMessage } = message;\n              if (message.name === nickName) {\n                return(\n                  <Container key={index.toString()} style={styles.message}>\n                  <Container style={styles.date}>\n                    <p>{date}</p>\n                  </Container>\n                  <p style={styles.textMessage}>{textMessage}</p>\n                  </Container>\n                )\n              } \n              return(\n                <Container key={index.toString()} style={styles.otherMessage}>\n                  <Container style={styles.otherMessageTitle}>\n                    <p style={styles.otherName}><b>{userName}</b></p>\n                    <p>{date}</p>\n                  </Container>\n                  <p style={styles.textMessage}>{textMessage}</p>\n                </Container>\n              )\n            })}\n          </Container>\n          <InputGroup  inside style={styles}>\n            <Input placeholder={'Mensaje'} value={newMessage} onChange={setNewMessage} onPressEnter={handleMessage}/>\n            <InputGroup.Button style={styles.input} onClick={handleMessage}> \n              <Icon icon=\"send\" />\n            </InputGroup.Button>\n          </InputGroup>\n        </Container>\n      )}\n    </Container>\n  )\n};\n\n\nexport default Chat;\n","// La función useMediaQuery fue obtenida de https://stackoverflow.com/questions/19014250/rerender-view-on-browser-resize-with-react\n// isMobile: https://stackoverflow.com/questions/21660369/detectmobilebrowsers-how-to-add-ipad-co-detect-mobile-browsers-js\n\nimport React, { useState, useEffect } from 'react';\nimport { io } from \"socket.io-client\";\nconst ENDPOINT = \"wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl\";\nimport { Alert, Container, Notification } from 'rsuite';\nimport Map from './map';\nimport Chat from './chat';\n\nconst Home = ({ height, width, isMobile }) => {\n  const [isLoadingFlights, setIsLoadingFlights] = useState(true);\n  const [isLoadingChat, setIsLoadingChat] = useState(true);\n  const [flights, setFlights] = useState({})\n  const [positions, setPositions] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [nickName, setNickName] = useState('Anónimo');\n  const debug = false;\n  const horizontallStructure = width > 999 && !isMobile;\n  var socket;\n\n  const styles = {\n    main: { padding: 10, width, overflowX: 'hidden' },\n    generalContainer: {flexDirection: width > 999 && !isMobile ? 'row' : 'column'},\n  };\n\n  const renderMessageInformation = () => {\n    Notification.open({\n      title: 'Información',\n      description: 'Puedes cambiar el nombre de usuario en el primer input (donde aparece \"Anónimo\")',\n      duration: 7000,\n    });\n  }\n  const handleMessage = () => {\n    if (nickName.length > 0) {\n      if (newMessage.length > 0) {\n        if (!socket) {\n          const newSocket = io(ENDPOINT, {\n            path: '/flights'\n          });\n          newSocket.emit('CHAT', {\n            name: nickName,\n            message: newMessage,\n            date: '09/05/2021'\n          });\n          setTimeout(() => {\n            newSocket.disconnect()\n           } , 10000);\n        } else {\n          socket.emit('CHAT', {\n            name: nickName,\n            message: newMessage,\n            date: '09/05/2021'\n          });\n        }\n        setNewMessage('');\n      } else {\n        Alert.error('Es necesario escribir algo')\n      }\n    } else {\n      Alert.error('Es necesario escribir un nombre de usuario')\n    }\n  }\n  const handlePositions = (message) => {\n    const { code } = message;\n    if (!flights[code]) {\n      socket.emit('FLIGHTS');\n    }\n    positions.push(message);\n    setPositions(positions);\n  }\n  \n  const formatFlights = (data) => {\n    const temporalFlights = {};\n    data.map(flight => {\n      temporalFlights[flight.code] = flight;\n    });\n    setFlights(temporalFlights);\n  }\n\n  const setUpSocket = () => {\n    socket = io(ENDPOINT, {\n      path: '/flights'\n    });\n    socket.on('FLIGHTS', (message) => {\n      formatFlights(message)    \n    })\n    socket.on('CHAT', (message) => {\n      messages.push(message)\n      setMessages(messages);   \n    })\n    socket.on('POSITION', (message) => {\n      handlePositions(message)\n    })\n    socket.emit('FLIGHTS');\n    setIsLoadingChat(false);\n  }\n  \n  const disconnectSocket = () => {\n    socket.disconnect();\n  }\n\n  useEffect(() => {\n    setUpSocket();\n    if (debug) {\n      setTimeout(() => {\n        disconnectSocket()\n      }, 10000);\n    }\n    renderMessageInformation();\n    return () => disconnectSocket();\n  }, []);\n  \n  useEffect(() => {\n    if (flights) {\n      setIsLoadingFlights(false)\n    };\n  }, [flights]);\n\n  return (\n    <Container style={styles.main}>\n      {isLoadingFlights  ? (\n        <Container>\n          <h1>CARGANDO</h1>\n        </Container>\n      ): (\n        <Container style={styles.generalContainer}>\n          <Map\n            height={height}\n            width={width}\n            positions={positions}\n            flights={flights}\n            horizontallStructure={horizontallStructure}\n            isLoadingFlights={isLoadingFlights}\n            />\n          <Chat\n            height={height}\n            width={width}\n            handleMessage={handleMessage}\n            messages={messages}\n            newMessage={newMessage}\n            setNewMessage={setNewMessage}\n            nickName={nickName}\n            setNickName={setNickName}\n            horizontallStructure={horizontallStructure}\n            />\n        </Container>\n      )}\n    </Container>\n  )\n};\n\n\nexport default Home;\n","/* eslint-disable no-useless-escape */\n/* eslint-disable react/jsx-props-no-spreading */\n/* eslint-disable react/jsx-filename-extension */\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport React, { useState, useLayoutEffect } from \"react\";\n\nimport { Container } from \"rsuite\";\nimport \"rsuite/dist/styles/rsuite-default.css\";\nimport \"rsuite/lib/styles/index.less\";\nimport 'leaflet/dist/leaflet.css';\n\nimport Home from \"./components/home\";\n\nconst isMobile =\n  /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(\n    navigator.userAgent\n  ) ||\n  /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n    navigator.userAgent.substr(0, 4)\n  );\n\nconst commonApiUrl = \"https://tarea-1-breaking-bad.herokuapp.com/api\";\n\nconst App = () => {\n  const useMediaQuery = () => {\n    const [screenSize, setScreenSize] = useState([0, 0]);\n    useLayoutEffect(() => {\n      function updateScreenSize() {\n        setScreenSize([window.innerWidth, window.innerHeight]);\n      }\n      window.addEventListener(\"resize\", updateScreenSize);\n      updateScreenSize();\n      return () => window.removeEventListener(\"resize\", updateScreenSize);\n    }, []);\n    return screenSize;\n  };\n\n  const [width, height] = useMediaQuery();\n  return (\n    <Container style={{width}}>\n      <Router id=\"container\">\n        {/* <Toolbar /> */}\n        <Switch>\n          {/* <Route\n            path=\"/character/:id\"\n            render={(props) => (\n              <Character\n                commonApiUrl={commonApiUrl}\n                {...props}\n              />\n            )}\n          /> */}\n          <Route\n            path=\"/\"\n            render={(props) => <Home\n              commonApiUrl={commonApiUrl} \n              width={width}\n              height={height}\n              isMobile={isMobile}\n              {...props} />}\n          />\n        </Switch>\n      </Router>\n    </Container>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}